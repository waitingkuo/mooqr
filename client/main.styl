@import 'nib'

// global
a
  text-decoration none
  //color rgba(0, 0, 0, .87)

// colors
primary = #3F51B5
primary-light = #C5CAE9
primary-dark = #303F9F
white = #FFFFFF

// font weight
regular = 400
medium = 500
bold = 700

// typography
// FIXME find a better way to set default color
typog-headline()
  font-weight regular
  font-size 24px
  line-height 32px
  color rgba(0, 0, 0, 0.87)

typog-title()
  font-weight medium
  font-size 20px
  color rgba(0, 0, 0, 0.87)

typog-subhead()
  font-weight regular
  font-weight 15px
  // FIXME font-size 16px for devices
  color rgba(0, 0, 0, 0.87)
  line-height 24px
//FIXME consider subhead2 if need

typog-body1()
  font-weight regular
  font-size 13px
  // FIXME font-size 14px for devices
  color rgba(0, 0, 0, 0.87)
  line-height 20px

typog-body2()
  font-weight medium
  font-size 13px
  // FIXME font-size 14px for devices
  color rgba(0, 0, 0, 0.87)
  line-height 24px

typog-caption
  font-weight regular
  font-size 12px
  color rgba(0, 0, 0, 0.54)

typog-menu()
  font-weight medium
  font-size 13px
  // FIXME font-size 14px for devices
  color rgba(0, 0, 0, 0.87)

typog-button()
  font-weight medium
  font-size 14px
  text-transform uppercase
  color rgba(0, 0, 0, 0.87)

typog-list-title()
  font-weight regular
  font-size 16px
  color rgba(0, 0, 0, 0.87)



body
  background rgba(0, 0, 0, 0.1)
  font-family 'Roboto', sans-seri



/*
 * Utilities
 */

// shadow
shadow(z-depth=1)
  // box-shadow( x-offset, y-offset, blur, 0px, rgba(0, 0, 0, opacity) )
  if z-depth == 1
    box-shadow: 0 0px 1.5px 0px rgba(0, 0, 0, 0.12), 0 1px 1px 0px rgba(0, 0, 0, 0.24)
  else if z-depth == 2
    box-shadow 0 0px 3px 0px rgba(0, 0, 0, 0.16), 0 3px 3px 0px rgba(0, 0, 0, 0.23)
  else if z-depth == 3
    box-shadow 0 0px 10px 0px rgba(0, 0, 0, 0.19), 0 6px 3px 0px rgba(0, 0, 0, 0.23)
  else if z-depth == 4
    box-shadow 0 0px 14px 0px rgba(0, 0, 0, 0.25), 0 10px 5px 0px rgba(0, 0, 0, 0.22)
  else if z-depth == 5
    box-shadow 0 0px 30px 0px rgba(0, 0, 0, 0.30), 0 15px 6px 0px rgba(0, 0, 0, 0.22)

// button
.button
  typog-button()
  //FIXME
  margin-left 5px
  margin-right 5px
  &:focus
    outline none

  &.flat-button
    border 0
    background white

    &.save-button
      color #4285F4

  &.float-button
    border 0
    background primary
    width 48px
    height 48px
    border-radius 24px
    color white
    font-size 24px
    line-height 45px
    text-align center
    position fixed
    right 50px
    bottom 50px
    shadow 2
    z-index 3
    cursor pointer

// checkbox
// https://github.com/nt1m/material-framework/blob/master/css/material.css
.checkbox

  //display inline-block
  //vertical-align top
  cursor pointer
  user-select none

  label
    cursor pointer

  input[type="checkbox"]
    display none

  input[type="checkbox"] + label 
    //border-radius 100%
    width 30px
    height 30px
    display inline-block
    //background transparent
    //transition all 0.2s
    //position relative
    //box-shadow 0 0 0 transparent

  //input[type="checkbox"] + label:active
  //  box-shadow 0 0 0 9px rgba(15, 157, 88, 0.29)
  //  background rgba(15, 157, 88, 0.29)

  //input[type="checkbox"]:checked + label:active
  //  background rgba(204, 204, 204, 0.8)

  input[type="checkbox"] + label::after
    content ""
    border 2px solid #5A5A5A
    width 18px
    height 18px
    display inline-block
    position relative
    margin-top 4px
    margin-left 4px
    margin-bottom 1px
    //animation checkbox 0.3s reverse

  input[type="checkbox"]:checked + label::after
    transform rotate(45deg)
    top -4px
    left 6px
    width 10px
    height 21px
    border-width medium 2px 2px medium
    border-top 0 none #0F9D58
    border-left 0 none #0F9D58
    border-color #0F9D58
    margin-bottom 0
    //animation checkbox2 0.3s alternate


@keyframes checkbox {
  0% {
    transform none
  }
  50% {
    transform scale(0.1)
  }
  100% {
    transform rotate(45deg)
  }
}
@keyframes checkbox2 {
  0% {
    transform none
  }
  50% {
    transform scale(0.1)
  }
  100% {
    transform rotate(45deg)
  }
}




// divider
divider = 1px solid #a0afbb
.divider
  border-top 1px solid #a0afbb
    
// container
container()
  max-width 900px
  width 900px
  margin-left auto
  margin-right auto


// App bar
#app-bar
  height 64px
.app-bar
  background primary
  color white
  width 100%
  height 64px
  shadow 2
  z-index 2
  position fixed

  padding 20px 24px 20px 24px

  box-sizing border-box

  clearfix()
  > *
    float left

  .nav-icon
    font-size 24px
    width 24px
    height 24px
    text-align center
    line-height 24px
    margin-right 32px
    cursor pointer

  .title
    typog-headline()
    color white
    line-height 24px
    height 24px

// sidebar
//#side-bar
side-bar-width = 300px
#side-bar

  width side-bar-width
  min-height 100%

  background white

  position fixed
  top 0
  left 0

  z-index 3
  shadow 3

  transform translateX( - side-bar-width )
  &.active
    transform translateX( 0 )
  transition 0.2s ease all
  

  .header
    height 150px
    padding 16px
    .avatar
      width 48px
      height 48px
      border-radius 24px
      background black

  .lists
    padding 16px
    .list
      i
        font-size 24px
        margin-right 36px
      span
        font-size 20px
        vertical-align 10%

card()
  background white
  border-radius 2px

.card
  background white
  border-radius 2px
  shadow 1

  margin-bottom 8px

  .title
    typog-headline()

  .content
    padding 16px
    font-size 14px
    font-weight regular

    .title
      typog-headline()

dialog(z-depth=2)
  background white
  border-radius 2px
  shadow z-depth
  position fixed
  z-index z-depth

.plan-dialog,
.module-dialog
  dialog(3)
  padding 24px
  width 600px
  top 200px
  left calc((100% - 600px) / 2)

  .dialog-header
    typog-headline()
    margin-bottom 30px

  .dialog-footer   
    clearfix()
    .button
      float right

.task-dialog
  dialog(3)
  padding 24px
  width 600px
  top 200px
  left calc((100% - 600px) / 2)

  .dialog-header
    typog-headline()
    margin-bottom 30px

  .dialog-footer   
    clearfix()
    .button
      float right




//input
// http://scotch.io/tutorials/css/google-material-design-input-boxes-in-css3
.input-text

  position relative
  margin-bottom 45px

  input 
    font-size 18px
    padding 10px 10px 10px 5px
    display block
    width 300px
    box-sizing border-box
    border none
    border-bottom 1px solid #757575
    &:focus
      outline none

  label
    color #999
    font-size 18px
    font-weight normal
    position absolute
    pointer-events none
    left 5px
    top 10px
    transition 0.2s ease all

  input:focus ~ label
  input:valid ~ label
    top -20px
    font-size 14px
    color #5264AE

  // BOTTOM BARS
  .bar
    position relative
    display block
    width 300px
    background blue

    &::before,
    &::after
      content ""
      height 2px
      width 0
      bottom 1px
      position absolute
      background #5264AE
      transition 0.2s ease all
    &::before
      left 50%
    &::after
      right 50%

  input:focus ~ .bar::before,
  input:focus ~ .bar::after
    width 50%

  // HIGHLIGHTER 
  .highlight
    position absolute
    height 60%
    width 100px
    top 25%
    left 0
    pointer-events none
    opacity 0.5
  input:focus ~ .highlight
    animation input-highlighter 0.3s ease

@keyframes input-highlighter {
  form {
    background #5264AE
  }
  to {
    width 0
    background transparent
  }
}

.input-textarea

  position relative
  margin-bottom 45px

  textarea
    overflow hidden
    resize none
    height 24px
    line-height 24px
    font-size 18px
    padding 10px 10px 10px 5px
    display block
    width 285px
    border none
    border-bottom 1px solid #757575
    &:focus
      outline none

  label
    color #999
    font-size 18px
    font-weight normal
    position absolute
    pointer-events none
    left 5px
    top 10px
    transition 0.2s ease all

  textarea:focus ~ label
  textarea:valid ~ label
    top -20px
    font-size 14px
    color #5264AE

  // BOTTOM BARS
  .bar
    position relative
    display block
    width 300px
    background blue

    &::before,
    &::after
      content ""
      height 2px
      width 0
      bottom 1px
      position absolute
      background #5264AE
      transition 0.2s ease all
    &::before
      left 50%
    &::after
      right 50%

  textarea:focus ~ .bar::before,
  textarea:focus ~ .bar::after
    width 50%

  // HIGHLIGHTER 
  .highlight
    position absolute
    height 60%
    width 100px
    top 25%
    left 0
    pointer-events none
    opacity 0.5
  textarea:focus ~ .highlight
    animation textarea-highlighter 0.3s ease

@keyframes textarea-highlighter {
  form {
    background #5264AE
  }
  to {
    width 0
    background transparent
  }
}


// menu
.menu
  card()
  shadow 2
  padding-top 8px
  padding-bottom 8px
  .item 
    padding-left 16px
    padding-right 16px
    height 48px
    line-height 48px
    text-align left
    typog-menu()
    &:hover
      background #F1FAF6
    

    
// index
#index
  .container
    container()

#plans
  .container
    container()

  .your-plans,
  .followed-plans,
  .discover-plans
    .header
      typog-subhead()

  .plan
    clearfix()
    > *
      float left
    padding 16px
    cursor pointer
    &:hover
      background #F1FAF6
    .plan-title 
      width 90%
    .plan-more
      position relative

      text-align right
      width 10%
      color rgba(0, 0, 0, 0.2)
      &:hover
        color rgba(0, 0, 0, 1)
      i
        transform rotate(90deg)
        font-size 20px

      .plan-item-more-menu
        position absolute
        &:not(.active)
          display none
        top -5px
        right -5px
        z-index 4
        

  .plan + .plan 
    border-top divider

  
#plan
  .container
    container()
    .plan
      .header
        position relative
        height 52px
        clearfix()
        > *
          float left
        .plan-name
          box-sizing border-box
          padding 16px
          width calc(100% - 52px)
        .plan-more-button 
          box-sizing border-box
          width 52px
          height 52px
          line-height 52px
          text-align center
          transform rotate(90deg)
          font-size 20px
          cursor pointer
          color rgba(0, 0, 0, 0.2)
          &:hover
            color rgba(0, 0, 0, 1)
        .plan-more-menu
          z-index 5
          position absolute
          top 10px
          right 10px
          .item
            cursor pointer

          &:not(.active)
            display none

    .module
      .header
        position relative
        height 52px
        clearfix()
        > *
          float left
        .module-name
          box-sizing border-box
          padding 16px
          width calc(100% - 52px)
        .module-more-button 
          box-sizing border-box
          width 52px
          height 52px
          line-height 52px
          text-align center
          transform rotate(90deg)
          font-size 20px
          cursor pointer
          color rgba(0, 0, 0, 0.2)
          &:hover
            color rgba(0, 0, 0, 1)
        .module-more-menu
          z-index 5
          position absolute
          top 10px
          right 10px
          .item
            cursor pointer

          &:not(.active)
            display none

      ul.tasks
        list-style none
        padding-left 0

        .task
          clearfix()
          > *
            float left

          .checkbox   
            width 30px
            height 30px
            margin-right 26px

          .task-content
            typog-list-title()
            height 30px
            line-height 30px


#udacity359
  .container
    container()


  .card
    .content
      clearfix()
    .progress-bar
      height 20px
      background primary-light

    ul.tasks
      list-style none
      padding-left 0

      .task
        clearfix()
        > *
          float left

        .checkbox   
          width 30px
          height 30px
          margin-right 26px

        .task-content
          typog-list-title()
          height 30px
          line-height 30px


// test
.test
  typog-body1()
  vertical-align top
